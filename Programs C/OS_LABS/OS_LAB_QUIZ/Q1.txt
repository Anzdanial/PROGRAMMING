#include <stdio.h>
#include <malloc.h>
#include <unistd.h>
#include <wait.h>
#include <stdlib.h>

int main(){
    int array[5][5] = {{500,200,12,13,15},
                       {140,15,160,170,20},
                       {20,40,700,1000,11},
                       {10,20,20,20,20},
                       {20,10,12,10,1000}};

    int val = fork();
    if(val == 0){
        int freq[1001] = {0};

        for(int i = 0; i < 5; i++) {
            for(int j = 0; j < 5; j++) {
                freq[array[i][j]]++;
            }
        }

        for(int i = 0; i < 1001; i++) {
            if(freq[i] > 0) {
                printf("Value %d occurs %d times.\n", i, freq[i]);
            }
        }
        printf("Child Process with Process ID %d and Parent ID %d\n", getpid(), getppid());
    }
    else{
        int upperSum = 0, lowerSum = 0;
        for(int i = 0; i < 5; i++){
            upperSum += array[0][i];
        }
        for(int i = 0; i < 4; i++){
            upperSum += array[1][i];
        }
        for(int i = 0; i < 3; i++){
            upperSum += array[2][i];
        }
        for(int i = 0; i < 2; i++){
            upperSum += array[3][i];
        }
        for(int i = 0; i < 1; i++){
            upperSum += array[4][i];
        }

        for(int i = 0; i < 5; i++){
            lowerSum += array[4][i];
        }
        for(int i = 1; i < 5; i++){
            lowerSum += array[3][i];
        }
        for(int i = 2; i < 5; i++){
            lowerSum += array[2][i];
        }
        for(int i = 3; i < 5; i++){
            lowerSum += array[1][i];
        }
        for(int i = 4; i < 5; i++){
            lowerSum += array[0][i];
        }
        printf("%d \n", upperSum);
        printf("%d \n", lowerSum);
        printf("Parent Process with Process ID %d\n\n", getpid());
        wait(NULL);
    }
    return 0;
}